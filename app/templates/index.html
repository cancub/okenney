{% extends "layout.html" %}

{% block head %}
<script src="/scripts/index.js"></script>
<link rel="stylesheet" href="/styles/index.css">
{% endblock %}

{% macro article_preview(details) -%}
  <div class="article-preview">
    <div class="crop">
      <img src="{{ details['image'] }}" />
    </div>
    <div>
      <h2 class="titre">{{ details['title'] }}</h2>
      <div class="description">
        {% include details['desc'] %}
      </div>
    </div>
  </div>
{%- endmacro %}

{% block content_column %}
<div id="MetadataPlusRecent" style="display:none">
{# Provide the data on the remainder of the files #}
{% for i in range(preload_count,total_count) %}
  <div title="{{ latest[i]['title'] }}"
       filepath="{{ latest[i]['filepath'] }}"
       imagepath="{{ latest[i]['image'] }}"
       descpath="{{ latest[i]['desc'] }}"></div>
{% endfor %}
</div>
<div id="ALUne">
  {{ article_preview(latest[0]) }}
  <!-- <div id="BarreLaterale"></div> -->
</div>
<div id="QueueDArticles">
{% for i in range(1, preload_count) %}
  {{ article_preview(latest[i]) }}
{% endfor %}
</div>
{% endblock %}